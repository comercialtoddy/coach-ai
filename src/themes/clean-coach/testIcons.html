<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - Sistema de √çcones CS2 Coach AI</title>
    <link rel="stylesheet" href="index.css">
    <style>
        body {
            background: #1a1a1a;
            color: white;
            font-family: 'Segoe UI', sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .test-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .test-section h3 {
            color: #4CAF50;
            margin-bottom: 15px;
        }
        
        .icon-demo {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 3px solid #2196F3;
        }
        
        .test-button {
            background: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        
        .test-button:hover {
            background: #45a049;
        }
        
        #output {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            padding: 15px;
            min-height: 200px;
            margin-top: 15px;
            line-height: 1.6;
        }
        
        .status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #2196F3;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 12px;
        }
        
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .icon-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 8px;
            border-radius: 4px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>
<body>
    <div class="status" id="status">Carregando sistema de √≠cones...</div>
    
    <h1>üéØ CS2 Coach AI - Sistema de √çcones</h1>
    <p>Teste completo do sistema de √≠cones integrado ao HUB do Coach AI</p>
    
    <!-- Teste de Carregamento B√°sico -->
    <div class="test-section">
        <h3>üì¶ Teste de Carregamento</h3>
        <button class="test-button" onclick="testBasicLoading()">Carregar √çcone B√°sico</button>
        <button class="test-button" onclick="testMultipleIcons()">Carregar M√∫ltiplos √çcones</button>
        <button class="test-button" onclick="showAvailableIcons()">Listar √çcones Dispon√≠veis</button>
    </div>
    
    <!-- Teste de Detec√ß√£o Autom√°tica -->
    <div class="test-section">
        <h3>ü§ñ Teste de Detec√ß√£o Autom√°tica</h3>
        <button class="test-button" onclick="testAutoDetection()">Detectar Armas no Texto</button>
        <button class="test-button" onclick="testGameSituations()">Detectar Situa√ß√µes de Jogo</button>
        <button class="test-button" onclick="testMixedContent()">Conte√∫do Misto</button>
    </div>
    
    <!-- Teste de Integra√ß√£o Coach -->
    <div class="test-section">
        <h3>üéÆ Simula√ß√£o Coach AI</h3>
        <button class="test-button" onclick="simulateCoachResponse()">Resposta com √çcones</button>
        <button class="test-button" onclick="simulateGeminiResponse()">Resposta Estilo Gemini</button>
        <button class="test-button" onclick="simulateComplexTactic()">T√°tica Complexa</button>
    </div>
    
    <!-- √Årea de Output -->
    <div class="test-section">
        <h3>üì∫ Output de Teste</h3>
        <div id="output">Clique em qualquer bot√£o acima para testar o sistema de √≠cones...</div>
    </div>
    
    <!-- √çcones por Categoria -->
    <div class="test-section">
        <h3>üìö √çcones por Categoria</h3>
        <div id="icon-categories"></div>
    </div>

    <!-- Scripts -->
    <script src="iconSystem.js"></script>
    <script>
        let output = document.getElementById('output');
        let status = document.getElementById('status');
        
        // Aguardar carregamento do sistema de √≠cones
        window.addEventListener('load', async () => {
            await new Promise(resolve => setTimeout(resolve, 500)); // Aguardar init
            
            if (window.IconSystem) {
                status.textContent = '‚úÖ Sistema de √çcones Ativo';
                status.style.background = '#4CAF50';
                
                // Mostrar categorias de √≠cones
                showIconCategories();
            } else {
                status.textContent = '‚ùå Erro: Sistema n√£o carregado';
                status.style.background = '#f44336';
            }
        });
        
        async function testBasicLoading() {
            output.innerHTML = 'Testando carregamento b√°sico de √≠cone...<br><br>';
            
            try {
                const iconElement = await window.IconSystem.createIconElement('awp', {
                    size: '24px',
                    className: 'large-icon'
                });
                
                if (iconElement) {
                    output.appendChild(iconElement);
                    output.innerHTML += ' ‚Üê √çcone da AWP carregado com sucesso!';
                } else {
                    output.innerHTML += 'Erro: N√£o foi poss√≠vel carregar o √≠cone';
                }
            } catch (error) {
                output.innerHTML += `Erro: ${error.message}`;
            }
        }
        
        async function testMultipleIcons() {
            output.innerHTML = 'Carregando m√∫ltiplos √≠cones...<br><br>';
            
            const weapons = ['ak47', 'm4a1', 'awp', 'glock', 'deagle'];
            
            for (const weapon of weapons) {
                try {
                    const iconElement = await window.IconSystem.createIconElement(weapon, {
                        size: '20px',
                        className: 'inline-icon weapon'
                    });
                    
                    if (iconElement) {
                        output.appendChild(iconElement);
                        output.innerHTML += ` ${weapon.toUpperCase()} `;
                    }
                } catch (error) {
                    output.innerHTML += `[${weapon}: ERRO] `;
                }
            }
        }
        
        async function testAutoDetection() {
            const testText = "Compre AWP e AK47 para rushear bombsite A com smoke e flash";
            output.innerHTML = `Texto original: "${testText}"<br><br>`;
            
            try {
                const enhancedText = await window.IconSystem.autoAddIcons(testText);
                const processedText = await window.IconSystem.processTextWithIcons(enhancedText);
                
                output.innerHTML += `Texto processado: "${processedText}"<br><br>`;
                output.innerHTML += 'Resultado visual: ';
                
                // Criar elemento tempor√°rio para mostrar resultado
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = processedText;
                window.IconSystem.replaceIconPlaceholders(tempDiv);
                output.appendChild(tempDiv);
                
            } catch (error) {
                output.innerHTML += `Erro: ${error.message}`;
            }
        }
        
        async function testGameSituations() {
            const situations = [
                "Player com low health precisa defusar a bomb no site B",
                "CT team stack A com AWP, use smoke para execute",
                "TR side rush B com flashes, plant para default"
            ];
            
            output.innerHTML = 'Testando detec√ß√£o de situa√ß√µes de jogo...<br><br>';
            
            for (const situation of situations) {
                output.innerHTML += `<div class="icon-demo">`;
                output.innerHTML += `Original: ${situation}<br>`;
                
                try {
                    const enhanced = await window.IconSystem.autoAddIcons(situation);
                    const processed = await window.IconSystem.processTextWithIcons(enhanced);
                    
                    output.innerHTML += 'Com √≠cones: ';
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = processed;
                    tempDiv.style.display = 'inline';
                    
                    output.appendChild(tempDiv);
                    window.IconSystem.replaceIconPlaceholders(tempDiv);
                    
                } catch (error) {
                    output.innerHTML += `Erro: ${error.message}`;
                }
                
                output.innerHTML += `</div>`;
            }
        }
        
        async function simulateCoachResponse() {
            const responses = [
                "Jo√£o, compre {icon:awp} AWP e {icon:smoke} smoke para controle mid",
                "Maria, {icon:health} HP baixo - fall back e deixe team entry",
                "Pedro, execute {icon:bombsite-a} site A com {icon:flash} flashes coordenadas",
                "Ana, {icon:planted-bomb} bomba armada - {icon:defuse} defuse r√°pido com cover"
            ];
            
            output.innerHTML = 'Simulando respostas do Coach AI...<br><br>';
            
            for (const response of responses) {
                try {
                    const processedText = await window.IconSystem.processTextWithIcons(response);
                    
                    const responseDiv = document.createElement('div');
                    responseDiv.className = 'icon-demo';
                    responseDiv.innerHTML = processedText;
                    
                    output.appendChild(responseDiv);
                    window.IconSystem.replaceIconPlaceholders(responseDiv);
                    
                } catch (error) {
                    output.innerHTML += `Erro: ${error.message}<br>`;
                }
            }
        }
        
        async function simulateGeminiResponse() {
            // Simular resposta t√≠pica do Gemini com √≠cones
            const geminiResponse = "Carlos, como CT stack {icon:bombsite-a} A site com {icon:awp} AWP, use {icon:smoke} smoke connector para slow TR push. {icon:time} Tempo cr√≠tico - coordene {icon:flash} flash support com team.";
            
            output.innerHTML = 'Simulando resposta do Gemini AI...<br><br>';
            
            try {
                const processedText = await window.IconSystem.processTextWithIcons(geminiResponse);
                
                const responseDiv = document.createElement('div');
                responseDiv.className = 'coach-response';
                responseDiv.style.background = 'rgba(76, 175, 80, 0.1)';
                responseDiv.style.border = '1px solid #4CAF50';
                responseDiv.style.padding = '15px';
                responseDiv.style.borderRadius = '8px';
                responseDiv.innerHTML = processedText;
                
                output.appendChild(responseDiv);
                window.IconSystem.replaceIconPlaceholders(responseDiv);
                
            } catch (error) {
                output.innerHTML += `Erro: ${error.message}`;
            }
        }
        
        async function simulateComplexTactic() {
            const complexTactic = `
                {icon:player} Toddyclipsgg, situa√ß√£o cr√≠tica!<br><br>
                
                <strong>T√ÅTICA CT ANTI-ECO:</strong><br>
                ‚Ä¢ Stack {icon:bombsite-b} B site: 3 players<br>
                ‚Ä¢ {icon:awp} AWPer mid para picks<br>
                ‚Ä¢ Rotator A pronto com {icon:smoke} utility<br><br>
                
                <strong>EQUIPAMENTOS NECESS√ÅRIOS:</strong><br>
                ‚Ä¢ {icon:armor} Full armor + {icon:helmet} helmet<br>
                ‚Ä¢ {icon:flash} 2x Flash + {icon:he} HE grenade<br>
                ‚Ä¢ {icon:smoke} Smoke wall para retake<br><br>
                
                <strong>TIMING:</strong> {icon:time} 45s restantes - execute coordenado!
            `;
            
            output.innerHTML = 'Simulando t√°tica complexa...<br><br>';
            
            try {
                const processedText = await window.IconSystem.processTextWithIcons(complexTactic);
                
                const tacticDiv = document.createElement('div');
                tacticDiv.style.background = 'rgba(33, 150, 243, 0.1)';
                tacticDiv.style.border = '2px solid #2196F3';
                tacticDiv.style.padding = '20px';
                tacticDiv.style.borderRadius = '10px';
                tacticDiv.innerHTML = processedText;
                
                output.appendChild(tacticDiv);
                window.IconSystem.replaceIconPlaceholders(tacticDiv);
                
            } catch (error) {
                output.innerHTML += `Erro: ${error.message}`;
            }
        }
        
        function showAvailableIcons() {
            const available = window.IconSystem.getAvailableIcons();
            output.innerHTML = `Total de √≠cones dispon√≠veis: ${available.length}<br><br>`;
            
            // Mostrar apenas os primeiros 50 para n√£o sobrecarregar
            const toShow = available.slice(0, 50);
            output.innerHTML += 'Primeiros 50 √≠cones:<br>';
            output.innerHTML += toShow.join(', ');
            
            if (available.length > 50) {
                output.innerHTML += `<br><br>... e mais ${available.length - 50} √≠cones`;
            }
        }
        
        function showIconCategories() {
            const categoriesDiv = document.getElementById('icon-categories');
            
            const categories = ['weapons', 'interface', 'radar'];
            
            categories.forEach(category => {
                const icons = window.IconSystem.getIconsByCategory(category);
                
                const categoryDiv = document.createElement('div');
                categoryDiv.innerHTML = `
                    <h4>${category.toUpperCase()} (${icons.length} √≠cones)</h4>
                    <div class="icon-grid">
                        ${icons.slice(0, 12).map(icon => 
                            `<div class="icon-item">
                                <span style="font-family: monospace;">${icon}</span>
                            </div>`
                        ).join('')}
                    </div>
                `;
                
                categoriesDiv.appendChild(categoryDiv);
            });
        }
        
        async function testMixedContent() {
            const mixedText = "Situa√ß√£o: {icon:health} HP baixo, enemy com AK47 rushing bombsite A. Use smoke e flash para retake com AWP.";
            
            output.innerHTML = 'Testando conte√∫do misto (manual + auto-detec√ß√£o)...<br><br>';
            output.innerHTML += `Original: ${mixedText}<br><br>`;
            
            try {
                // Primeiro auto-detectar
                const autoEnhanced = await window.IconSystem.autoAddIcons(mixedText);
                output.innerHTML += `Auto-detectado: ${autoEnhanced}<br><br>`;
                
                // Depois processar √≠cones manuais
                const processed = await window.IconSystem.processTextWithIcons(autoEnhanced);
                
                output.innerHTML += 'Resultado final: ';
                const resultDiv = document.createElement('div');
                resultDiv.innerHTML = processed;
                resultDiv.style.background = 'rgba(255, 255, 255, 0.1)';
                resultDiv.style.padding = '10px';
                resultDiv.style.borderRadius = '5px';
                resultDiv.style.marginTop = '10px';
                
                output.appendChild(resultDiv);
                window.IconSystem.replaceIconPlaceholders(resultDiv);
                
            } catch (error) {
                output.innerHTML += `Erro: ${error.message}`;
            }
        }
    </script>
</body>
</html> 